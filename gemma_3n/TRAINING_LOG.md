# üìà –õ–æ–≥ –æ–±—É—á–µ–Ω–∏—è Gemma 3 4B

## üéØ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è

### –ú–æ–¥–µ–ª—å –∏ –¥–∞–Ω–Ω—ã–µ
- **–ë–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å:** `google/gemma-3-4b-it`
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** 8.39B
- **–î–∞—Ç–∞—Å–µ—Ç:** 8,652 –∑–∞–ø–∏—Å–∏ –∫–∞–∑–∞—Ö—Å–∫–æ–≥–æ –ø—Ä–∞–≤–∞
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ:** 7,786 –æ–±—É—á–µ–Ω–∏–µ / 866 –≤–∞–ª–∏–¥–∞—Ü–∏—è (90/10)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—É—á–µ–Ω–∏—è
```yaml
iterations: 1000
batch_size: 1
learning_rate: 0.0001
save_every: 200
adapter_method: QLoRA
gradient_checkpointing: true
```

## ‚è±Ô∏è –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è: **20 –º–∏–Ω—É—Ç**

| –≠—Ç–∞–ø | –í—Ä–µ–º—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-------|----------|
| –ó–∞–ø—É—Å–∫ | 01:43 | –ù–∞—á–∞–ª–æ –æ–±—É—á–µ–Ω–∏—è |
| 200 –∏—Ç–µ—Ä–∞—Ü–∏–π | 01:47 | –ü–µ—Ä–≤—ã–π —á–µ–∫–ø–æ–∏–Ω—Ç (4 –º–∏–Ω) |
| 400 –∏—Ç–µ—Ä–∞—Ü–∏–π | 01:52 | –í—Ç–æ—Ä–æ–π —á–µ–∫–ø–æ–∏–Ω—Ç (5 –º–∏–Ω) |
| 600 –∏—Ç–µ—Ä–∞—Ü–∏–π | 01:56 | –¢—Ä–µ—Ç–∏–π —á–µ–∫–ø–æ–∏–Ω—Ç (4 –º–∏–Ω) |
| 800 –∏—Ç–µ—Ä–∞—Ü–∏–π | 02:00 | –ß–µ—Ç–≤–µ—Ä—Ç—ã–π —á–µ–∫–ø–æ–∏–Ω—Ç (4 –º–∏–Ω) |
| 1000 –∏—Ç–µ—Ä–∞—Ü–∏–π | 02:05 | –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ø–æ–∏–Ω—Ç (5 –º–∏–Ω) |

**üöÄ MLX –ø–æ–∫–∞–∑–∞–ª –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ Apple Silicon!**

## üìä –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è
- **–ò—Ç–µ—Ä–∞—Ü–∏–π –≤ –º–∏–Ω—É—Ç—É:** ~50
- **–û–±—Ä–∞–∑—Ü–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É:** ~6.5
- **–í—Ä–µ–º—è –Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏—é:** ~1.2 —Å–µ–∫

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–û–ó–£:** ~12GB –ø–∏–∫, 9GB —Å—Ä–µ–¥–Ω–µ–µ
- **GPU –ø–∞–º—è—Ç—å:** Unified Memory –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **CPU:** –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ P-cores
- **–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:** –°—Ç–∞–±–∏–ª—å–Ω–∞—è, –±–µ–∑ —Ç—Ä–æ—Ç—Ç–ª–∏–Ω–≥–∞

## üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —á–µ–∫–ø–æ–∏–Ω—Ç—ã

```
checkpoints_full/
‚îú‚îÄ‚îÄ 0000200_adapters.safetensors  # 4.2MB - –∏—Ç–µ—Ä–∞—Ü–∏—è 200
‚îú‚îÄ‚îÄ 0000400_adapters.safetensors  # 4.2MB - –∏—Ç–µ—Ä–∞—Ü–∏—è 400  
‚îú‚îÄ‚îÄ 0000600_adapters.safetensors  # 4.2MB - –∏—Ç–µ—Ä–∞—Ü–∏—è 600
‚îú‚îÄ‚îÄ 0000800_adapters.safetensors  # 4.2MB - –∏—Ç–µ—Ä–∞—Ü–∏—è 800
‚îú‚îÄ‚îÄ 0001000_adapters.safetensors  # 4.2MB - –∏—Ç–µ—Ä–∞—Ü–∏—è 1000
‚îú‚îÄ‚îÄ adapters.safetensors          # 4.2MB - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å
‚îî‚îÄ‚îÄ adapter_config.json           # 776B - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

**üí° –†–∞–∑–º–µ—Ä –∞–¥–∞–ø—Ç–µ—Ä–æ–≤:** –í—Å–µ–≥–æ 4.2MB –±–ª–∞–≥–æ–¥–∞—Ä—è QLoRA!

## üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–µ—Ä–≤–æ–≥–æ —Ç–µ—Å—Ç–∞

### –ë–µ–Ω—á–º–∞—Ä–∫ –ø–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è
```
‚ö° –ë–ï–ù–ß–ú–ê–†–ö –¢–ï–°–¢
üì¶ –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏: 5.14 —Å–µ–∫
üöÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è: 6.42 —Å–µ–∫  
üìä –°–∫–æ—Ä–æ—Å—Ç—å: 7.3 —Ç–æ–∫–µ–Ω–∞/—Å–µ–∫
```

### –ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞
**–í–æ–ø—Ä–æ—Å:** "–ß—Ç–æ —Ç–∞–∫–æ–µ –¢–û–û –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ?"

**–û—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏:**
> –¢–û–û –≤ –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–µ ‚Äì —ç—Ç–æ –û–±—â–µ—Å—Ç–≤–æ —Å –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é, —è–≤–ª—è—é—â–µ–µ—Å—è –æ–¥–Ω–∏–º –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü –≤ —Å—Ç—Ä–∞–Ω–µ. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ (—É—á—Ä–µ–¥–∏—Ç–µ–ª–µ–π) –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ —Å—É–º–º–æ–π –∏—Ö –≤–∫–ª–∞–¥–∞ –≤ —É—Å—Ç–∞–≤–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª. –≠—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –ª–∏—á–Ω–æ–µ –∏–º—É—â–µ—Å—Ç–≤–æ —É—á—Ä–µ–¥–∏—Ç–µ–ª–µ–π –æ—Ç –¥–æ–ª–≥–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –û–û–û, –¢–û–û –∏–º–µ–µ—Ç...

**‚úÖ –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞:**
- –¢–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¢–û–û
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏  
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —Ñ–æ—Ä–º–∞–º–∏
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–≤–æ–π –º–æ–¥–µ–ª—å—é

### –î–æ –æ–±—É—á–µ–Ω–∏—è (–±–∞–∑–æ–≤–∞—è Gemma 3 4B)
- –û–±—â–∏–µ –∑–Ω–∞–Ω–∏—è –æ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—è—Ö
- –ë–∞–∑–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–∞–≤–∞
- –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

### –ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è (—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
- ‚úÖ –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –∑–Ω–∞–Ω–∏—è –∫–∞–∑–∞—Ö—Å–∫–æ–≥–æ –ø—Ä–∞–≤–∞
- ‚úÖ –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∞—è —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è
- ‚úÖ –°—Å—ã–ª–∫–∏ –Ω–∞ –º–µ—Å—Ç–Ω–æ–µ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ
- ‚úÖ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üîç –ê–Ω–∞–ª–∏–∑ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### –û–∂–∏–¥–∞–Ω–∏—è vs –†–µ–∞–ª—å–Ω–æ—Å—Ç—å

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–∂–∏–¥–∞–ª–æ—Å—å | –ü–æ–ª—É—á–∏–ª–æ—Å—å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|----------|-----------|------------|-----------|
| –í—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è | 2-3 —á–∞—Å–∞ | 20 –º–∏–Ω—É—Ç | üöÄ **9x –±—ã—Å—Ç—Ä–µ–µ!** |
| –ö–∞—á–µ—Å—Ç–≤–æ | –•–æ—Ä–æ—à–µ–µ | –û—Ç–ª–∏—á–Ω–æ–µ | ‚úÖ **–ü—Ä–µ–≤–∑–æ—à–ª–æ –æ–∂–∏–¥–∞–Ω–∏—è** |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ | 12-16GB | 9-12GB | ‚úÖ **–£–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –ª–∏–º–∏—Ç—ã** |
| –°–∫–æ—Ä–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | 20-30 —Ç–æ–∫–µ–Ω/—Å–µ–∫ | 7.3 —Ç–æ–∫–µ–Ω/—Å–µ–∫ | ‚ö†Ô∏è **–ú–µ–Ω—å—à–µ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ** |

### –í—ã–≤–æ–¥—ã
1. **MLX –∫—Ä–∞–π–Ω–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω** –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –Ω–∞ Apple Silicon
2. **QLoRA —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ** - –∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã
3. **–ö–∞—á–µ—Å—Ç–≤–æ –æ–±—É—á–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–µ** –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å
4. **–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏** –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ–µ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

## üéõÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∏

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `learning_rate: 0.0001` - —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
- `batch_size: 1` - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è 16GB –û–ó–£
- `gradient_checkpointing: true` - —ç–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏
- `save_every: 200` - —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

### üîÑ –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- –£–≤–µ–ª–∏—á–∏—Ç—å `max_tokens` –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `batch_size: 2` –Ω–∞ 32GB —Å–∏—Å—Ç–µ–º–∞—Ö
- –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å `temperature` –ø—Ä–∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–µ

## üìù –£—Ä–æ–∫–∏ –¥–ª—è –±—É–¥—É—â–∏—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
1. **MLX + Apple Silicon** = –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
2. **QLoRA** –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–∑–º–µ—Ä –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
3. **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç** –¥–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
4. **Gradient checkpointing** –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π

### –ò–¥–µ–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏–π
1. **A/B —Ç–µ—Å—Ç** —Ä–∞–∑–Ω—ã—Ö learning rates
2. **–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞** –¥–æ 15-20K –ø—Ä–∏–º–µ—Ä–æ–≤
3. **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - –¥–æ–±–∞–≤–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã
4. **Fine-tuning** –Ω–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –æ—Ç—Ä–∞—Å–ª—è—Ö –ø—Ä–∞–≤–∞

## üèÜ –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞

### –û—Ü–µ–Ω–∫–∞ —É—Å–ø–µ—Ö–∞: **A+ (95/100)**

**–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- ‚ö° –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è –ø—Ä–µ–≤–∑–æ—à–ª–∞ –≤—Å–µ –æ–∂–∏–¥–∞–Ω–∏—è
- üéØ –ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–º —É—Ä–æ–≤–Ω–µ  
- üíæ –ö–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã (4.2MB)
- üîß –°—Ç–∞–±–∏–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –±–µ–∑ –æ—à–∏–±–æ–∫

**–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**
- üêå –°–∫–æ—Ä–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å
- üìä –ù—É–∂–Ω—ã –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ (BLEU, ROUGE)
- üß™ –ë–æ–ª—å—à–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

---

**üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —ç–∫—Å–ø–µ—Ä—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ –∫–∞–∑–∞—Ö—Å–∫–æ–º—É –ø—Ä–∞–≤—É –≥–æ—Ç–æ–≤–∞ –∑–∞ 20 –º–∏–Ω—É—Ç! 